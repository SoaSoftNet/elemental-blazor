@use '../common' as c;

$sideNavWidth: 300px;
$sidenav-shrunk-width: 60px;
$sidenav-main-menu-width: 60px;

$topNavHeight: 65px;
$border-color: c.$grey-300;
$sidebar-color: #27283d;
$item-hover: #3c3d5d;

$layoutOptions: (
  'display': flex,
  '.ae.content-wrapper': (
    'display': flex,
    'flex-direction': column,
    'flex-grow': 1,
    'margin-left': $sideNavWidth,
    'transition': margin-left 0.5s cubic-bezier(0.25, 0.8, 0.25, 1),
    '.ae.top-nav': (
      'height': $topNavHeight,
      'position': sticky,
      'top': 0,
      'z-index': 10,
    ),
    '&.has-side-nav': (),
  ),
);

$IconColors: (
  'background-color': #46486d,
  '& i': (
    'color': c.$blue-600,
  ),
  '&.main .sidenav-text': (
    'color': c.$blue-600,
  ),
  '&.purple': (
    'border-left': 4px solid c.$purple-600,
    'color': c.$white,
    '& i': (
      'color': c.$purple-600,
    ),
    '&.main .sidenav-text': (
      'color': c.$purple-600,
    ),
  ),
  '&.blue': (
    'border-left': 4px solid c.$blue-600,
    'color': c.$white,
    '& i': (
      'color': c.$blue-600,
    ),
    '&.main .sidenav-text': (
      'color': c.$blue-600,
    ),
  ),
  '&.orange': (
    '& i': (
      'color': c.$orange-600,
    ),
    'border-left': 4px solid c.$orange-600,
    'color': c.$white,
    '&.main .sidenav-text': (
      'color': c.$orange-600,
    ),
  ),
  '&.indigo': (
    '& i': (
      'color': c.$indigo-600,
    ),
    'border-left': 4px solid c.$indigo-600,
    'color': c.$white,
    '&.main .sidenav-text': (
      'color': c.$indigo-600,
    ),
  ),
  '&.yellow': (
    '& i': (
      'color': c.$yellow-600,
    ),
    'border-left': 4px solid c.$yellow-600,
    'color': c.$white,
    '&.main .sidenav-text': (
      'color': c.$yellow-600,
    ),
  ),
  '&.green': (
    '& i': (
      'color': c.$green-600,
    ),
    'border-left': 4px solid c.$green-600,
    'color': c.$white,
    '&.main .sidenav-text': (
      'color': c.$green-600,
    ),
  ),
  '&.pink': (
    '& i': (
      'color': c.$pink-600,
    ),
    'border-left': 4px solid c.$pink-600,
    'color': c.$white,
    '&.main .sidenav-text': (
      'color': c.$pink-600,
    ),
  ),
  '&.red': (
    '& i': (
      'color': c.$red-600,
    ),
    'border-left': 4px solid c.$red-600,
    'color': c.$white,
    '&.main .sidenav-text': (
      'color': c.$red-600,
    ),
  ),
);

$sideNavOptions: (
  'display': flex,
  'flex-direction': column,
  'position': fixed,
  'top': 0,
  'height': 100%,
  'width': $sideNavWidth,
  'overflow-y': hidden,
  'overflow-x': hidden,
  'z-index': 1,
  'background-color': $sidebar-color,
  'border-right': 1px solid $border-color,
  'transition': width 0.5s c.$cubic-bezier,
  'color': c.$white,
  '.ae.sidenav-logo': (
    'display': flex,
    'padding': 0.5rem 0 0.5rem 0.3rem,
    'border-bottom': 1px solid $border-color,
    'background-color': c.$white,
  ),
  '.top': (
    'flex-grow': 1,
  ),
  '.bottom': (
    'display': flex,
    'align-items': center,
    'justify-content': space-between,
  ),
  '.ae.sidenav-container': (
    'display': flex,
    'flex-direction': row,
    'height': 100%,
    '.ae.sidenav-main-menu': (
      'display': flex,
      'flex-direction': column,
      'border-right': 3px solid c.$grey-800,
      'max-width': $sidenav-main-menu-width,
      '.ae.sidenav-group-wrapper': (
        'display': flex,
        'flex-direction': row,
        '& a': (
          'height': 3rem,
          'padding': 1.75rem 0.5rem,
          '&:hover': (
            '&': $IconColors,
          ),
          '&.main': (
            'display': flex,
            'flex-direction': column,
            'justify-content': center,
            '.sidenav-text': (
              'font-size': 0.7rem,
              'padding-top': 0.2rem,
            ),
          ),
        ),
      ),
    ),
    '.ae.sidenav-sub-menu': (
      'display': flex,
      'flex-direction': column,
      'overflow-y': auto,
      'overflow-x': hidden,
      'width': 100%,
      '.ae.sidenav-sub-group-wrapper': (
        'display': none,
        '&.expanded': (
          'display': flex,
          'flex-direction': column,
        ),
        '.sidenav-item': (
          'height': 1.5rem,
          'padding': 1.3rem 0.5rem,
          'font-size': 0.8rem,
          '.sidenav-text': (
            'text-overflow': ellipsis,
            'white-space': nowrap,
            'overflow': hidden,
          ),
        ),
        '.ae.sidenav-sub-group-title': (
          'color': c.$white,
          'font-size': 1.2rem,
          'padding': 1rem 1rem,
          'text-decoration': none,
        ),
        '& i': (
          'font-size': 1.25rem,
        ),
        '&': c.$scrollbarOptions,
      ),
      '.ae.sidenav-sub-sub-group-wrapper': (
        'display': none,
        '&.expanded': (
          'display': flex,
          'flex-direction': column,
        ),
        '& i': (
          'font-size': 1rem,
          'margin-left': 20px,
        ),
      ),
    ),
    '.ae.sidenav-item': (
      'display': flex,
      'align-items': center,
      'white-space': nowrap,
      'overflow': hidden,
      'transition': background-color 0.4s c.$cubic-bezier,
      'border-left': 4px solid transparent,
      'box-sizing': border-box,
      'color': inherit,
      'text-decoration': none,
      '&.exact, &.active': (
        'border-left': 4px solid c.$blue-600,
        'font-weight': bold,
        '& i': (
          'color': c.$blue-600,
        ),
        '&': $IconColors,
      ),
      '&:hover': (
        'background-color': $item-hover,
      ),
      '& .ae.icon': (
        'font-size': 1.2rem,
        'display': flex,
        'justify-content': center,
        'text-align': left,
        'min-width': 40px,
        'color': c.$white,
      ),
    ),
  ),
  '&.shrunk': (
    'width': $sidenav-shrunk-width,
  ),
);

$topNavOptions: (
  'height': $topNavHeight,
  'display': flex,
  'position': -webkit-sticky,
  'top': 0,
  'align-items': center,
  'z-index': 9999,
  'background-color': c.$white,
  'border-bottom': 1px solid c.$grey-300,
);

@mixin configure($options) {
  @if ($options) {
    @if (map.get($options, 'side-nav')) {
      $sideNavOptions: map.get($options, 'side-nav') !global;
    }
    @if (map.get($options, 'top-nav')) {
      $topNavOptions: map.get($options, 'top-nav') !global;
    }
    @if (map.get($options, 'layout')) {
      $layoutOptions: map.get($options, 'layout') !global;
    }
    @if (map.get($options, 'icon-colors')) {
      $IconColors: map.get($options, 'icon-colors') !global;
    }

    // variables
    @if (map.get($options, 'sideNavWidth')) {
      $sideNavWidth: map.get($options, 'sideNavWidth') !global;
    }
    @if (map.get($options, 'sidenav-shrunk-width')) {
      $sidenav-shrunk-width: map.get($options, 'sidenav-shrunk-width') !global;
    }
    @if (map.get($options, 'sidenav-main-menu-width')) {
      $sidenav-main-menu-width: map.get(
        $options,
        'sidenav-main-menu-width'
      ) !global;
    }
    @if (map.get($options, 'border-color')) {
      $border-color: map.get($options, 'border-color') !global;
    }
    @if (map.get($options, 'sidebar-color')) {
      $sidebar-color: map.get($options, 'sidebar-color') !global;
    }
    @if (map.get($options, 'item-hover')) {
      $item-hover: map.get($options, 'item-hover') !global;
    }
  }
}

@mixin styles {
  .ae.layout {
    @include c.set-values($layoutOptions);
  }

  .ae.sidenav {
    @include c.set-values($sideNavOptions);
  }

  .ae.top-nav {
    @include c.set-values($topNavOptions);
  }
}
