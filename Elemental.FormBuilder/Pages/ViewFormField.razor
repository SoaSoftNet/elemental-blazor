@page "/formfields/view/{id}"
@inject Code.IFormFieldRepository Repo
@inject NavigationManager NavManager

@if(_formField == null)
{
    <h3>Please Wait</h3>
}
else
{
    <h3>@_formField.Section - @_formField.Field</h3>

    <table>
        <thead>
            <tr>
                <th>Property</th>
                <th>Value</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Section</td>
                <td>@_formField.Section</td>
            </tr>
            <tr>
                <td>Field</td>
                <td>@_formField.Field</td>
            </tr>
            <tr>
                <td>Extension</td>
                <td>@_formField.ExtensionLabel</td>
            </tr>
            <tr>
                <td>MaxLength</td>
                <td>@_formField.MaxLength</td>
            </tr>
            <tr>
                <td>Mandatory</td>
                <td>@_formField.Mandatory</td>
            </tr>
            <tr>
                <td>Dropdown option count</td>
                <td>@_formField.DropdownOptionCount</td>
            </tr>
            <tr>
                <td>Formatted</td>
                <td>@_formField.Formatted</td>
            </tr>
            <tr>
                <td>Code</td>
                <td>@_formField.Code</td>
            </tr>
            <tr>
                <td>SQL Name</td>
                <td>@_formField.SQLName</td>
            </tr>
            <tr>
                <td>JSON</td>
                <td><pre><code>@_formField.JSON</code></pre></td>
            </tr>
            <tr>
                <td>C# Code</td>
                <td>
                    <pre><code>@_formField.CSCode</code></pre>
                </td>
            </tr>
        </tbody>
    </table>

    <AeButton To=@($"/formfields/edit/{_formField.FormFieldID}") class="blue" >Edit</AeButton>
    <AeButton To="/formfields">Back</AeButton>
}



@code {

    [Parameter]
    public string Id { get; set; }

    private FormField _formField;

    protected override async Task OnInitializedAsync()
    {
        _formField = await Repo.GetFormField(int.Parse(Id));
    }

}
   